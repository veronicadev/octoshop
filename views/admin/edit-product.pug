extends ./../layouts/admin-layout

block content
    .container-fluid
        .row
            .col-lg-12
                if errorMessage
                    .alert.alert-danger.mb-3  #{errorMessage}
                .card
                    .card-body
                        .card-title
                            h4 #{title}
                        form.product-form(action=formAction, method="POST")
                            .form-row
                                .col
                                    .form-group
                                        label(for="title") Title
                                        input.form-control(type="text", name="title", value=product.title, class=validationErrors.find(e=>e.param === 'title') ? 'invalid' : '', required)#title
                                .col        
                                    .form-group
                                        label(for="imageUrl") Image url
                                        input.form-control(type="text", name="imageUrl", value=product.imageUrl, class=validationErrors.find(e=>e.param === 'imageUrl') ? 'invalid' : '', required)#imageUrl
                            .form-group
                                label(for="description") description
                                textarea(name="description", cols="30", rows="10", class=validationErrors.find(e=>e.param === 'description') ? 'invalid' : '', required).form-control#description #{product.description}
                            .form-row
                                .col
                                    .form-group
                                        label(for="category") category
                                        input.form-control(type="text", name="category", value=product.category)#category
                                .col        
                                    .form-group
                                        label(for="price") price
                                        input.form-control(type="number", name="price", step="0.01", value=product.price, class=validationErrors.find(e=>e.param === 'price') ? 'invalid' : '', required)#price
                            if editing
                                input(type="hidden", value=product._id, name="productId")
                            input(type="hidden",name="_csrf" value=csrfToken)    
                            button.btn(type="submit") #{title}
